# 个人博客系统前端开发规范

## 一、 架构与目录规范

### 1.1 项目结构
```
frontend/src/
├── assets/                 # 静态资源（图片、字体）
├── components/             # 组件库
│   ├── common/             # 通用UI组件（Button, Input, Modal）
│   ├── layout/             # 布局组件（Navbar, Footer, Sidebar）
│   ├── features/           # 业务功能组件（ArticleList, CommentSection）
│   └── ui/                 # 基础原子组件
├── context/                # 全局上下文（AuthContext, ThemeContext）
├── hooks/                  # 自定义Hooks（useAuth, useFetch）
├── layouts/                # 页面布局容器（AuthLayout, MainLayout）
├── pages/                  # 页面组件（路由入口）
├── services/               # API服务封装
├── utils/                  # 工具函数
├── styles/                 # 全局样式
├── App.jsx                 # 根组件
└── main.jsx                # 入口文件
```

### 1.2 组件设计原则
- **单一职责**: 每个组件只做一件事。
- **容器与展示分离**: 
  - `pages/` 下的组件作为容器，处理数据获取和业务逻辑。
  - `components/` 下的组件主要负责展示，通过Props接收数据。
- **组合优于继承**: 使用组件组合来实现复用。

## 二、 代码编写规范

### 2.1 命名规范
- **组件文件**: 大驼峰命名，如 `ArticleEditor.jsx`。
- **组件函数**: 大驼峰命名，与文件名一致。
- **Hooks**: 以 `use` 开头，小驼峰命名，如 `useArticle.js`。
- **工具函数**: 小驼峰命名，如 `formatDate.js`。
- **常量**: 全大写，下划线分隔，如 `API_BASE_URL`。
- **CSS类名**: 使用Tailwind类名，自定义类使用kebab-case。

### 2.2 React最佳实践
- **函数组件**: 强制使用函数组件 + Hooks。
- **Props解构**: 在函数参数中直接解构Props。
  ```jsx
  // ✅ 推荐
  const Button = ({ children, onClick, variant = 'primary' }) => { ... }
  ```
- **依赖列表**: `useEffect` 和 `useMemo` 必须包含所有依赖项。
- **避免内联定义**: 避免在渲染函数中定义内部函数或对象，除非使用 `useCallback`/`useMemo` 优化。

### 2.3 状态管理
- **本地状态**: 使用 `useState` 处理组件内部UI状态。
- **全局状态**: 使用 `Context` 处理跨组件共享状态（如用户信息、主题）。
- **服务端状态**: 建议使用 `React Query` 或 `SWR` (可选) 管理API数据缓存。

## 三、 样式规范 (Tailwind CSS)

### 3.1 使用原则
- **Utility-First**: 优先使用Tailwind预设类。
- **避免任意值**: 尽量少用 `w-[123px]` 这种写法，保持设计系统一致性。
- **类名顺序**: 建议遵循 `布局 -> 盒模型 -> 视觉 -> 交互` 的顺序 (或使用Prettier插件自动排序)。

### 3.2 组件样式
- **复用样式**: 对于重复的样式组合，使用 `@apply` 抽取到 `index.css` 或封装为组件。
  ```css
  /* index.css */
  .btn-primary {
    @apply px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition;
  }
  ```

## 四、 接口调用规范

### 4.1 Service层封装
- 禁止在组件中直接调用 `axios` 或 `fetch`。
- 所有API请求必须封装在 `services/` 目录下。
  ```javascript
  // services/articleService.js
  import api from './api';

  export const getArticles = async (params) => {
    const response = await api.get('/articles', { params });
    return response.data;
  };
  ```

### 4.2 错误处理
- 统一拦截器处理：在 `api.js` 中配置 Axios 拦截器处理 401/403/500 等通用错误。
- 组件级处理：使用 `try-catch` 处理特定业务错误，并显示反馈（Toast或Alert）。

## 五、 性能优化

- **代码分割**: 使用 `React.lazy` 和 `Suspense` 对路由组件进行懒加载。
- **重渲染优化**: 使用 `React.memo`, `useMemo`, `useCallback` 避免不必要的重渲染。
- **图片优化**: 使用适当格式（WebP）和尺寸，实现懒加载。

## 六、 限制规则 (与后端对齐)

- **文件长度**: 组件文件不超过 300 行。
- **组件复杂度**: 圈复杂度控制在 10 以内，复杂逻辑抽取为 Hooks。
- **参数数量**: Props 数量过多时（>5个），考虑合并为配置对象或使用 Context。
